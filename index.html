<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>Vectcl by auriocus</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>Vectcl</h1>
          <h2>Numeric array and linear algebra extension for Tcl</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/auriocus/VecTcl/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/auriocus/VecTcl/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/auriocus/VecTcl" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="vectcl-" class="anchor" href="#vectcl-"><span class="octicon octicon-link"></span></a>VecTcl </h1>

<p>A numerical array extension for Tcl</p>

<p>This package provides a numerical array extension for Tcl with support for
vectors, matrices and higher-rank tensors of integers, floating point and
complex numbers. It has builtin support for basic array shaping, slicing and
linear algebra subroutines and is designed to integrate seamlessly with Tcl. The
user interface consists of a single command, <em>vexpr</em>, which acts as an expression
evaluator similar to expr. The language supported by vexpr is inspired by
Matlab, which closely models the language used by textbook math.</p>

<pre><code>package require vectcl
namespace import vectcl::vexpr
</code></pre>

<p>The conversion between VecTcl's numeric arrays and Tcl lists is transparently
handled through Tcl's object system:</p>

<pre><code># create a vector and multiply by 3
set x {1.0 2.0 3.0}
vexpr {3*x}
# 3.0 6.0 9.0
</code></pre>

<h2>
<a name="what-already-works-now" class="anchor" href="#what-already-works-now"><span class="octicon octicon-link"></span></a>What already works now</h2>

<p>Vectcl has builtin support for linear system solving</p>

<pre><code># create a matrix
set A {{2.0 3.0} {5.0 6.0} {7.0 8.0}}
vexpr { p = A\x ;# solve p = A^-1 x
    # in the least squares sense if m&gt;n
}
# 0.23684210526315772 0.15789473684210545
</code></pre>

<p>array slicing, shaping and reductions</p>

<pre><code>vexpr { A[:,1] = {9 10 11} }
# {{2.0 9.0} {5.0 10.0} {7.0 11.0}}
vexpr { A=hstack(x, x.^2) }
# {1.0 1.0} {2.0 4.0} {3.0 9.0}
vexpr { sum(x.^2)}
# 14.0
</code></pre>

<p>and complex numbers</p>

<pre><code>vexpr { list((1+2i)*(3+4i), sinh(2+3i) }
# -5.0+10.0i -3.5905645899857794+0.5309210862485197i
</code></pre>

<p>Vector expressions are compiled into Tcl procedures; the curious can peek into
the compiler output</p>

<pre><code>vectcl::compile {
    x, y = list(y, x) ;# swap x and y
    A= -3*x
}
# this outputs:
upvar 1 y y
upvar 1 x x
upvar 1 A A
set __temp1 [list [set y] [set x]]
lassign $__temp1 x y

set A [numarray::neg [numarray::* 3 [set x]]]
</code></pre>

<h2>
<a name="design-decisions" class="anchor" href="#design-decisions"><span class="octicon octicon-link"></span></a>Design decisions</h2>

<p>The value semantics, i.e. implicit conversion from and to lists, has a number of advantages:</p>

<ul>
<li>automatic garbage collection by Tcl</li>
<li>interoperability with commands working on lists, and math::linearalgebra</li>
<li>the vector language can be extended by Tcl procs</li>
<li>it is reasonable fast</li>
</ul><p>Currently a (small) patch to the core is required to make shimmering to lists
efficient. It works without, but then the conversion from numeric arrays to
lists goes via the string representation. There are no other dependencies
besides the pt module of tcllib, which is required for the parser. The final
version could use a parser implemented in C. </p>

<h1>
<a name="todo" class="anchor" href="#todo"><span class="octicon octicon-link"></span></a>TODO</h1>

<pre><code>* More examples
* More linear algebra implementations (LU, eigenvalue, SVD, FFT)
* Optional LAPACK integration
* User documentation
* Source code documentation    
</code></pre>
        </section>

        <footer>
          Vectcl is maintained by <a href="https://github.com/auriocus">auriocus</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>